name: Check In

on:
  workflow_dispatch:  # æ‰‹åŠ¨è§¦å‘
  schedule:
    - cron: "0 0 1 */6 *"  # æ¯6ä¸ªæœˆè‡ªåŠ¨ç»­æœŸï¼ˆå¯é€‰ï¼Œå¯åˆ é™¤è¿™ä¸¤è¡Œåªä¿ç•™æ‰‹åŠ¨è§¦å‘ï¼‰

permissions:
  actions: write

jobs:
  checkin:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 1

      - name: Renew trial period
        env:
          GH_TOKEN: ${{ github.token }}
        run: |
          WORKFLOW_FILE="crawler.yml"
          echo "ğŸ”„ Running check-in to renew trial period..."
          
          # é‡ç½®è¯•ç”¨æœŸèµ·å§‹æ—¶é—´ï¼ˆé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºè¿è¡Œè®°å½•ï¼‰
          gh workflow run "$WORKFLOW_FILE" --ref master
          
          echo "âœ… Check-in completed successfully!"
          echo "âœ… Trial period has been renewed."
